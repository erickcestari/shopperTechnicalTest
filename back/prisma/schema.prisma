generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Product {
  code        BigInt @id
  name        String
  costPrice   Float  @map("cost_price")
  salesPrice  Float  @map("sales_price")
  PackProduct Pack[] @relation("PackProduct")
  ProductPack Pack[] @relation("ProductPack")

  @@map("products")
}

model Pack {
  id        BigInt @id
  productId BigInt @map("product_id")
  packId    BigInt @map("pack_id")
  quantity  Int    @map("qty")

  pack    Product @relation("PackProduct", fields: [packId], references: [code])
  product Product @relation("ProductPack", fields: [productId], references: [code])

  @@map("packs")
}
